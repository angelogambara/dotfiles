#!/bin/sh

if [ -n "$HYPRLAND_INSTANCE_SIGNATURE" ]; then
  echo "Locking screen with hyprlock..."
  if ! pgrep -x hyprlock >/dev/null; then
    hyprlock &
  fi
elif [ -n "$SWAYSOCK" ]; then
  echo "Locking screen with swaylock..."
  if ! pgrep -x swaylock >/dev/null; then
    swaylock &
  fi
else
  echo "No supported window manager detected. Cannot lock screen."
  echo "(Edit $0 to implement an handler for your wm.)"
fi

sudo systemctl suspend
